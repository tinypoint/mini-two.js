!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MiniTwo=e():t.MiniTwo=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){!function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+r)},r);return t=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,n){"use strict";n.r(e);n(0);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"x",0),r(this,"y",0),r(this,"rotate",0),r(this,"alpha",1),r(this,"scale",1),r(this,"width",0),r(this,"height",0),r(this,"translateX",0),r(this,"translateY",0),r(this,"setX",function(t){return e.x=t,e}),r(this,"setY",function(t){return e.y=t,e}),r(this,"setXY",function(t,n){return e.x=t,e.y=n,e}),r(this,"setRotate",function(t){return e.rotate=t,e}),r(this,"setAlpha",function(t){return e.alpha=t,e}),r(this,"setScale",function(t){return e.scale=t,e}),r(this,"setWidth",function(t){return e.width=t,e}),r(this,"setHeight",function(t){return e.height=t,e}),r(this,"setTranslateX",function(t){return e.translateX=t,e}),r(this,"setTranslateY",function(t){return e.translateY=t,e}),r(this,"setTranslateXY",function(t,n){return e.translateX=t,e.translateY=n,e})};function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"width",void 0),a(this,"height",void 0),a(this,"miniTwoInstance",void 0),a(this,"objects",[]),a(this,"xc2s",function(t){var e=n.miniTwoInstance,r=e.dpr/e.scale;return(t+e.origin.x-e.translateX)*r+n.width/2}),a(this,"yc2s",function(t){var e=n.miniTwoInstance,r=e.dpr/e.scale;return n.height/2-(t+e.origin.y-e.translateY)*r}),a(this,"xs2c",function(t){var e=n.miniTwoInstance,r=e.dpr/e.scale;return(t-n.width/2)/r-e.origin.x+e.translateX}),a(this,"ys2c",function(t){var e=n.miniTwoInstance,r=e.dpr/e.scale;return(n.height/2-t)/r-e.origin.y+e.translateY}),a(this,"xyc2s",function(t){var e=i(t,2),r=e[0],o=e[1];return[n.xc2s(r),n.yc2s(o)]}),a(this,"lc2s",function(t){var e=n.miniTwoInstance;return e.dpr/e.scale*t}),a(this,"add",function(t){n.objects.push(t)}),a(this,"remove",function(t){for(var e=0,r=n.objects.length;e<r;e++)if(t===n.objects[e])return void n.objects.splice(e,1)}),a(this,"clearCanvas",function(t){t.clearRect(0,0,n.width,n.height)}),a(this,"draw",function(t){n.clearCanvas(t),n.objects.forEach(function(e){e.draw(t,n)})}),this.miniTwoInstance=e,this.width=e.width*e.dpr,this.height=e.height*e.dpr};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={width:300,height:300,dpr:window.devicePixelRatio||1},y=function(t){function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r=f(e).call(this),t=!r||"object"!==c(r)&&"function"!=typeof r?l(n):r,h(l(t),"elem",void 0),h(l(t),"dpr",void 0),h(l(t),"ctx",void 0),h(l(t),"origin",{x:0,y:0}),h(l(t),"_scene",void 0),h(l(t),"_rafId",null),h(l(t),"isPlaying",!1),h(l(t),"_updateFns",[]),h(l(t),"add",function(){var e;(e=t._scene).add.apply(e,arguments)}),h(l(t),"remove",function(){var e;(e=t._scene).remove.apply(e,arguments)}),h(l(t),"render",function(){t._scene.draw(t.ctx)}),h(l(t),"play",function(){if(!t.isPlaying){t.isPlaying=!0;var e=l(t);e._rafId=window.requestAnimationFrame(function t(n){for(var r=0,o=e._updateFns.length;r<o;r++)e._updateFns[r](n);e._rafId=window.requestAnimationFrame(t)})}}),h(l(t),"pause",function(){t._rafId&&window.cancelAnimationFrame(t._rafId),t._rafId=null,t.isPlaying=!1}),h(l(t),"onUpdate",function(e){t._updateFns.push(e)}),h(l(t),"offUpdate",function(e){for(var n=0,r=t._updateFns.length;n<r;n++)if(e===t._updateFns[n])return void t._updateFns.splice(n,1)}),p)t[i]=void 0===o[i]?p[i]:o[i];return t._scene=new u(l(t)),t.elem=document.createElement("canvas"),t.elem.width=t.width*t.dpr,t.elem.height=t.height*t.dpr,t.elem.style.width=t.width+"px",t.elem.style.height=t.height+"px",t.ctx=t.elem.getContext("2d"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o),e}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,i=b(e).call(this),r=!i||"object"!==d(i)&&"function"!=typeof i?w(o):i,v(w(r),"img",null),v(w(r),"imgIsLoad",!1),v(w(r),"_draw",function(t,e){t.save();var n=e.xc2s(r.x),o=e.yc2s(r.y),i=e.lc2s(r.width*r.scale),a=e.lc2s(r.height*r.scale),u=e.lc2s(r.translateX*r.scale),c=e.lc2s(r.translateY*r.scale);t.translate(n,o),t.rotate(r.rotate*Math.PI/180),t.globalAlpha=r.alpha,t.drawImage(r.img,-i/2+u,-a/2-c,i,a),t.globalAlpha=1,t.restore()}),v(w(r),"draw",function(t,e){r.imgIsLoad?r._draw(t,e):r.img.addEventListener("load",function(){return r._draw(t,e)})}),r.img=new window.Image,r.img.src=t,r.img.onload=function(){r.imgIsLoad=!0,r.width=r.img.width,r.height=r.img.height,n&&n()},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o),e}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,i=j(e).call(this),r=!i||"object"!==_(i)&&"function"!=typeof i?x(o):i,S(x(r),"width",void 0),S(x(r),"height",void 0),S(x(r),"borderWidth",1),S(x(r),"borderColor","#000"),S(x(r),"color","rgba(0,0,0,0)"),S(x(r),"draw",function(t,e){var n=e.lc2s(r.width),o=e.lc2s(r.height),i=O(e.xyc2s([r.x-r.width/2,r.y+r.width/2]),2),a=i[0],u=i[1];t.strokeStyle=r.borderColor,t.fillStyle=r.color,t.lineWidth=e.lc2s(r.borderWidth),t.moveTo(a,u),t.fillRect(a,u,n,o),t.strokeRect(a,u,n,o)}),r.width=t,r.height=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o),e}();function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=E(e).call(this))||"object"!==C(i)&&"function"!=typeof i?F(o):i,X(F(r),"start",[0,0]),X(F(r),"end",[0,0]),X(F(r),"color","#000"),X(F(r),"lineWidth",1),X(F(r),"lineCap","butt"),X(F(r),"lineJoin","miter"),X(F(r),"dash",null),X(F(r),"lineDashOffset",0),r.start=t,r.end=n,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(e,o),n=e,(r=[{key:"draw",value:function(t,e){var n=I(e.xyc2s(this.start),2),r=n[0],o=n[1],i=I(e.xyc2s(this.end),2),a=i[0],u=i[1];t.strokeStyle=this.color,t.lineWidth=e.lc2s(this.lineWidth),t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,this.dash&&void 0!==this.dash[0]&&void 0!==this.dash[1]&&(t.setLineDash(this.dash),t.lineDashOffset=this.lineDashOffset),t.beginPath(),t.moveTo(r,o),t.lineTo(a,u),t.stroke()}}])&&A(n.prototype,r),i&&A(n,i),e}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J={Coordinate:function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n=!(o=M(e).call(this))||"object"!==k(o)&&"function"!=typeof o?D(r):o,W(D(n),"miniTwoInstance",void 0),W(D(n),"xCord",void 0),W(D(n),"yCord",void 0),n.miniTwoInstance=t,n.xCord=new Y,n.yCord=new Y,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,o),n=e,(r=[{key:"draw",value:function(t,e){var n=this.miniTwoInstance,r=[-n.width/2,0],o=[n.width/2,0],i=[0,-n.height/2],a=[0,n.height/2];this.xCord.start=r,this.xCord.end=o,this.yCord.start=i,this.yCord.end=a,this.xCord.draw(t,e),this.yCord.draw(t,e)}}])&&q(n.prototype,r),i&&q(n,i),e}()};function U(t,e,n){return(U=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&z(o,n.prototype),o}).apply(null,arguments)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}y.helper=J,y.Image=g,y.Rect=T,y.Line=Y,y.createImage=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return U(g,e)},y.createRect=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return U(T,e)},y.createLine=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return U(Y,e)};e.default=y}])});